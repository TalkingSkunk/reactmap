(this.webpackJsonpmapboxAndReact=this.webpackJsonpmapboxAndReact||[]).push([[0],{139:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),c=o(64),r=o.n(c),s=(o(71),o(72),o(65)),i=o(3),l=o(15),d=o(4),u=o.n(d),j=o(27),b=o(37),m=o(140),x=o(28),f=o.n(x),g=o(2);u.a.workerClass=j.a,u.a.accessToken="pk.eyJ1IjoidGFsa2luZ3NrdW5rIiwiYSI6ImNrbXYyYTAyNDAwejMydm52aThnZ3BvY3kifQ.ER8YYxoj5YJD_-8m1hNdxg";var h=f()("http://localhost:8080"),p=function(){var e=Object(n.useRef)(),t=Object(n.useState)(-79.4718),o=Object(l.a)(t,2),a=o[0],c=o[1],r=Object(n.useState)(43.6708),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(n.useState)(11.5),x=Object(l.a)(j,2),f=x[0],p=x[1];return h.on("receiveMedicPosition",(function(e){c(e.longitude),d(e.latitude),console.log("receiving from server",e)})),Object(n.useEffect)((function(){var t=new u.a.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v11",center:[a,i],zoom:f});return t.on("load",(function(){t.addControl(new u.a.NavigationControl,"top-right"),t.addControl(new b({accessToken:u.a.accessToken,mapboxgl:u.a}),"bottom-left"),new u.a.Marker({color:"#FFFFFF",draggable:!1}).setLngLat([a,i]).addTo(t),t.flyTo({center:[a,i],zoom:13})})),t.on("move",(function(){c(t.getCenter().lng.toFixed(4)),d(t.getCenter().lat.toFixed(4)),p(t.getZoom().toFixed(2))})),function(){return t.remove()}}),[]),Object(g.jsxs)(m.a,{xs:12,md:6,children:[Object(g.jsxs)("div",{className:"sidebar",children:["Longitude: ",a," | Latitude: ",i," | Zoom: ",f]}),Object(g.jsx)("div",{className:"map-container",ref:e})]})},O=o(141),v=o(142);var F=function(){return Object(g.jsx)(O.a,{children:Object(g.jsx)(v.a,{children:Object(g.jsx)(p,{})})})};u.a.workerClass=j.a,u.a.accessToken="pk.eyJ1IjoidGFsa2luZ3NrdW5rIiwiYSI6ImNrbXYyYTAyNDAwejMydm52aThnZ3BvY3kifQ.ER8YYxoj5YJD_-8m1hNdxg";var y=f()("http://localhost:8080");y.on("connect_error",(function(e){console.log("connect_error due to ".concat(e.message))})),y.emit("lol","haha");var w=function(){var e=Object(n.useRef)(),t=Object(n.useState)(-79.47181),o=Object(l.a)(t,2),a=o[0],c=o[1],r=Object(n.useState)(43.67081),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(n.useState)(11.5),b=Object(l.a)(j,2),x=b[0];b[1];return Object(n.useEffect)((function(){y.on("connect_failed",(function(){console.log("Sorry, there seems to be an issue with the connection!")}));var t=new u.a.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v11",center:[a,i],zoom:x});return navigator.geolocation?(navigator.geolocation.watchPosition((function(e){var o=[parseFloat(e.coords.longitude.toFixed(5)),parseFloat(e.coords.latitude.toFixed(5))];console.log("your location:",o),y.emit("medicPosition",{longitude:o[0],latitude:o[1],timestamp:e.timestamp}),console.log("after socket"),new u.a.Marker({color:"#FFFFFF",draggable:!1}).setLngLat(o).addTo(t),t.flyTo({center:o,zoom:13}),c(o[0]),d(o[1])}),(function(e){console.log(e)}),{enableHighAccuracy:!0}),t.on("load",(function(){t.addControl(new u.a.NavigationControl,"top-right")})),function(){return t.remove()}):alert("Geolocation not supported by your browser :(")}),[]),Object(g.jsxs)(m.a,{xs:12,md:6,children:[Object(g.jsxs)("div",{className:"sidebar",children:["Longitude: ",a," | Latitude: ",i," | Zoom: ",x]}),Object(g.jsx)("div",{className:"map-container",ref:e})]})};var k=function(){return Object(g.jsx)(O.a,{children:Object(g.jsx)(v.a,{children:Object(g.jsx)(w,{})})})},N=function(){return Object(g.jsx)("div",{children:Object(g.jsxs)(s.a,{children:[Object(g.jsx)(i.a,{path:"/dispatchermap",exact:!0,component:F}),Object(g.jsx)(i.a,{path:"/medical",exact:!0,component:k})]})})};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(N,{})}),document.getElementById("root"))},71:function(e,t,o){},72:function(e,t,o){}},[[139,1,2]]]);
//# sourceMappingURL=main.ab44aa32.chunk.js.map